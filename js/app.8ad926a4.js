(function(e){function t(t){for(var n,o,c=t[0],s=t[1],d=t[2],h=0,u=[];h<c.length;h++)o=c[h],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&u.push(r[o][0]),r[o]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);l&&l(t);while(u.length)u.shift()();return i.push.apply(i,d||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],n=!0,c=1;c<a.length;c++){var s=a[c];0!==r[s]&&(n=!1)}n&&(i.splice(t--,1),e=o(o.s=a[0]))}return e}var n={},r={app:0},i=[];function o(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=n,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(a,n,function(t){return e[t]}.bind(null,n));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/chord/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=t,c=c.slice();for(var d=0;d<c.length;d++)t(c[d]);var l=s;i.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("cd49")},"0053":function(e,t,a){e.exports={chordCard:"chordCard-module_chord-card_xob69",chordCardEditing:"chordCard-module_chord-card__editing_Kfnk1",chordName:"chordCard-module_chord-name_39QCm",chordNameField:"chordCard-module_chord-name-field_yGHph",chordBox:"chordCard-module_chord-box_3F_xR",chordBtnGroup:"chordCard-module_chord-btn-group_1uzWe",chordBtn:"chordCard-module_chord-btn_24PZo",chordBtnIcon:"chordCard-module_chord-btn-icon_3yI0z",chordBtnDel:"chordCard-module_chord-btn-del_3xWLo",chordBtnModify:"chordCard-module_chord-btn-modify_3eNIb",chordBtnCancel:"chordCard-module_chord-btn-cancel_9si6I",chordBtnConfirm:"chordCard-module_chord-btn-confirm_3xVGm",chordCreateTitle:"chordCard-module_chord-create-title_1bkAu",chordCardCreate:"chordCard-module_chord-card__create_3W_mu"}},5712:function(e,t){e.exports="data:image/png;base64,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"},"5c0b":function(e,t,a){"use strict";var n=a("9c0c"),r=a.n(n);r.a},7271:function(e,t,a){e.exports={chordItemCpn:"index-module_chord-item-cpn_1jYve",chordItemResult:"index-module_chord-item__result_aZi44"}},"8e1f":function(e,t,a){},"95c4":function(e,t,a){"use strict";var n=a("d26b"),r=a.n(n);r.a},"9c0c":function(e,t,a){},cd49:function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},i=[],o=(a("5c0b"),a("2877")),c={},s=Object(o["a"])(c,r,i,!1,null,null,null),d=s.exports,l=a("8c4f"),h=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"home"},[a("div",{staticClass:"edit-switch-area"},[a("div",{staticClass:"edit-switch-item"},[a("van-icon",{staticClass:"switch-item-icon",attrs:{name:"edit"}}),a("span",[e._v(": ")]),a("van-switch",{staticClass:"switch-item-field",attrs:{"inactive-color":"gray"},model:{value:e.editing,callback:function(t){e.editing=t},expression:"editing"}})],1),a("div",{staticClass:"edit-switch-item"},[a("van-icon",{staticClass:"switch-item-icon",attrs:{name:"completed"}}),a("span",[e._v(": ")]),a("van-switch",{staticClass:"switch-item-field",attrs:{"inactive-color":"gray"},model:{value:e.showAnswer,callback:function(t){e.showAnswer=t},expression:"showAnswer"}})],1)]),a("div",{staticClass:"chord-card-area"},[a("div",{staticClass:"chord-cardBox"},e._l(e.keyMaps,(function(t,n){return a("ChordCard",{key:t.name,staticClass:"chord-card",attrs:{"is-editing":e.editing,"show-answer":e.showAnswer,answer:t.map[0],name:t.name},on:{add:e.addChord,del:function(t){return e.delChord(n)},modify:function(t){return e.modifyChord(n,t)}}})})),1),a("div",{directives:[{name:"show",rawName:"v-show",value:e.editing,expression:"editing"}],staticClass:"chord-create-box"},[a("ChordCard",{key:e.keyMaps.length+1,staticClass:"chord-card",attrs:{"is-create-box":!0},on:{add:e.addChord}})],1)])])},u=[],f=(a("b0c0"),a("d3b7"),a("ddb0"),a("99af"),a("96cf"),a("1da1")),m=a("d4ec"),C=a("bee2"),v=a("262e"),g=a("2caf"),p=a("9ab4"),w=a("60a3"),k=a("48d3"),y=a("0053"),I=a.n(y),b=(a("cb29"),a("d81d"),a("25f0"),a("7271")),A=a.n(b),Q={width:20,height:83,fill:"white"},B={width:13,height:47,fill:"black"},j=function(e){Object(v["a"])(n,e);var t=Object(g["a"])(n);function n(){var e;return Object(m["a"])(this,n),e=t.apply(this,arguments),e.configKonva={width:14*Q.width+10,height:Q.height+5,offsetX:-5,offsetY:-2.5},e.keys=new Array(24).fill(0),e.hoverIndex=null,e.whiteKeyRect=Q,e.blackKeyRect=B,e}return Object(C["a"])(n,[{key:"render",value:function(){var e=this,t=arguments[0];return t("div",{class:A.a.chordItemCpn},[t("konva-stage",{attrs:{config:this.configKonva},ref:"stage",style:14*this.whiteKeyRect.width+20},[t("konva-layer",[t("konva-group",[this.keys.map((function(a,n){return t("konva-rect",{on:{mouseenter:e.handleMouseEnter.bind(e,n),mouseleave:e.handleMouseLeave,click:e.handleClick.bind(e,n),tap:e.handleClick.bind(e,n)},attrs:{config:e.getKeyRect(n,a,e.hoverIndex)},key:n})}))])])]),t("div",{class:A.a.chordItem__result},[t("span",[t("img",{style:{visibility:this.resultRight?"visible":"hidden"},attrs:{width:"24",height:"24",src:a("5712"),alt:"right"}})])])])}},{key:"getKeyRect",value:function(e,t,a){var n=e%12,r=Math.floor(e/12),i={stroke:"black",strokeWidth:2,fill:"#ffffff"};return n<7?(Object.assign(i,Q),i.x=n*Q.width+7*r*Q.width,i.y=0):(Object.assign(i,B),i.x=(n-7<2?n-7:n-6)*Q.width+Q.width-B.width/2+7*r*Q.width,i.y=0),a===e&&(i.fill="gray"),0!==t&&(i.fill="#ffb8b8"),i}},{key:"handleClick",value:function(e){this.keys=this.keys.map((function(t,a){return e===a?0===t?1:0:t})),this.$emit("change",this.keys)}},{key:"handleMouseEnter",value:function(e){this.hoverIndex=e;var t=this.$refs.stage.getStage();t&&(t.container().style.cursor="pointer")}},{key:"handleMouseLeave",value:function(){this.hoverIndex=null;var e=this.$refs.stage.getStage();e&&(e.container().style.cursor="pointer")}},{key:"getKeys",value:function(){return this.keys}},{key:"showAnswer",value:function(){this.answer&&(this.keys=this.answer)}},{key:"clear",value:function(){this.keys=new Array(24).fill(0)}},{key:"resultRight",get:function(){return!!this.answer&&this.keys.toString()===this.answer.toString()}}]),n}(k["Component"]);Object(p["a"])([Object(w["c"])()],j.prototype,"answer",void 0),j=Object(p["a"])([w["a"]],j);var O=j,J=function(e){Object(v["a"])(a,e);var t=Object(g["a"])(a);function a(){var e;return Object(m["a"])(this,a),e=t.apply(this,arguments),e.editStatus=0,e.nameModel="",e}return Object(C["a"])(a,[{key:"addChord",value:function(){var e=this.$refs.chordCreate;return{name:this.nameModel,keys:e.getKeys()}}},{key:"delChord",value:function(){return this.name}},{key:"modifyChord",value:function(){var e=this.$refs.chord;return{name:this.nameModel,keys:e.getKeys()}}},{key:"showAnswerWatcher",value:function(e,t){e!==t&&this.answer&&(e?this.$refs.chord.showAnswer():this.$refs.chord.clear())}},{key:"initEdit",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.editStatus=1,this.nameModel=this.name,e.next=4,this.$nextTick();case 4:this.$refs.nameField.focus();case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"initDel",value:function(){this.editStatus=2}},{key:"editDone",value:function(){1===this.editStatus?this.modifyChord():2===this.editStatus&&this.delChord(),this.editClear()}},{key:"editClear",value:function(){this.editStatus=0,this.nameModel=""}},{key:"render",value:function(){var e=this,t=arguments[0];return this.isCreateBox?t("div",{class:[I.a.chordCard,I.a.chordCardCreate]},[t("h3",{class:I.a.chordCreateTitle},["新建和弦"]),t("van-field",{class:I.a.chordNameField,attrs:{label:"",placeholder:"请输入和弦名(不可重复)","input-align":"center",clearable:!0},model:{value:e.nameModel,callback:function(t){e.nameModel=t}}}),t("div",{class:I.a.chordBox},[t(O,{ref:"chordCreate"})]),t("div",{class:I.a.chordBtnGroup},[t("div",{class:[I.a.chordBtnConfirm,I.a.chordBtn],on:{click:this.addChord}},[t("van-icon",{class:I.a.chordBtnIcon,attrs:{name:"success"}})])])]):t("div",{class:[I.a.chordCard,this.isEditing&&I.a.chordCardEditing]},[1===this.editStatus?t("van-field",{class:I.a.chordNameField,attrs:{label:"",placeholder:"请输入和弦名(不可重复)","input-align":"center",clearable:!0},ref:"nameField",model:{value:e.nameModel,callback:function(t){e.nameModel=t}}}):t("h3",{class:I.a.chordName},[this.name]),t("div",{class:I.a.chordBox},[t(O,{attrs:{answer:this.answer},ref:"chord"})]),this.isEditing&&(0===this.editStatus?t("div",{class:I.a.chordBtnGroup},[t("div",{class:"".concat(I.a.chordBtn," ").concat(I.a.chordBtnDel),on:{click:this.initDel}},[t("van-icon",{class:I.a.chordBtnIcon,attrs:{name:"delete"}})]),t("div",{class:"".concat(I.a.chordBtn," ").concat(I.a.chordBtnModify),on:{click:this.initEdit}},[t("van-icon",{class:I.a.chordBtnIcon,attrs:{name:"edit"}})])]):t("div",{class:I.a.chordBtnGroup},[t("div",{class:"".concat(I.a.chordBtn," ").concat(I.a.chordBtnCancel),on:{click:this.editClear}},[t("van-icon",{class:I.a.chordBtnIcon,attrs:{name:"cross"}})]),1===this.editStatus?t("div",{class:"".concat(I.a.chordBtn," ").concat(I.a.chordBtnConfirm),on:{click:this.editDone}},[t("van-icon",{class:I.a.chordBtnIcon,attrs:{name:"success"}})]):t("div",{class:"".concat(I.a.chordBtn," ").concat(I.a.chordBtnDel),on:{click:this.editDone}},[t("van-icon",{class:I.a.chordBtnIcon,attrs:{name:"delete"}})])]))])}}]),a}(k["Component"]);Object(p["a"])([Object(w["c"])()],J.prototype,"name",void 0),Object(p["a"])([Object(w["c"])()],J.prototype,"answer",void 0),Object(p["a"])([Object(w["c"])()],J.prototype,"isCreateBox",void 0),Object(p["a"])([Object(w["c"])({default:function(){return!1}})],J.prototype,"isEditing",void 0),Object(p["a"])([Object(w["c"])()],J.prototype,"showAnswer",void 0),Object(p["a"])([Object(w["b"])("add")],J.prototype,"addChord",null),Object(p["a"])([Object(w["b"])("del")],J.prototype,"delChord",null),Object(p["a"])([Object(w["b"])("modify")],J.prototype,"modifyChord",null),Object(p["a"])([Object(w["d"])("showAnswer",{immediate:!1})],J.prototype,"showAnswerWatcher",null),J=Object(p["a"])([w["a"]],J);var E=J,x={name:"Home",components:{ChordCard:E},data:function(){return{keyMaps:[],editing:!1,showAnswer:!1}},methods:{addChord:function(e){var t=e.name,a=e.keys;this.$answerStorage.addAnswer({name:t,map:[a]})},delChord:function(e){this.$answerStorage.delAnswer(e)},modifyChord:function(e,t){var a=t.name,n=t.keys;this.$answerStorage.modifyAnswer(e,{name:a,keys:n})}},created:function(){this.keyMaps=this.$answerStorage.getSavedAnswers()}},M=x,S=(a("95c4"),Object(o["a"])(M,h,u,!1,null,null,null)),U=S.exports,K=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div")},G=[],R={name:"TestPage",components:{},methods:{add:function(e){alert(JSON.stringify(e))}}},Z=R,D=Object(o["a"])(Z,K,G,!1,null,"73cc5b26",null),N=D.exports;n["default"].use(l["a"]);var Y=[{path:"/",name:"Home",component:U},{path:"/test",name:"Test",component:N}],T=new l["a"]({routes:Y}),L=T,V=a("2f62");n["default"].use(V["a"]);var H=new V["a"].Store({state:{isMobile:"ontouchstart"in window},mutations:{},actions:{},modules:{}}),X=a("7591"),P=a.n(X),F=(a("a623"),a("a630"),a("45fc"),a("a434"),a("6062"),a("3ca3"),a("9a83"),a("f564")),_="chordAnswer",W={10001:"和弦名称不能为空",10002:"和弦名称不能有重复",20001:"和弦琴键不能为空"},q=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{default:[]};Object(m["a"])(this,e),this.data=[],this.storage=window.localStorage;var a=JSON.parse(""+this.storage.getItem(_));a&&a.length>0||(a=t.default),this.$load(a)}return Object(C["a"])(e,[{key:"addAnswer",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.data.length;return!!this.checkAnswer(e,t)&&(this.data.splice(t,0,e),this.syncStorage(),Object(F["a"])({type:"success",message:"保存成功"}),!0)}},{key:"delAnswer",value:function(e){this.data.splice(e,1),this.syncStorage(),Object(F["a"])({type:"success",message:"删除成功"})}},{key:"modifyAnswer",value:function(e,t){var a=t.name,n=t.keys,r={name:a,map:[n]};if(this.checkAnswer(r,e)){var i=this.data[e];return i.name=a,i.map=[n],Object(F["a"])({type:"success",message:"修改成功"}),!0}return!1}},{key:"loadAnswers",value:function(e){this.$load(e)?Object(F["a"])({type:"success",message:"导入成功"}):Object(F["a"])({type:"warning",message:"和弦名称不能有重复"})}},{key:"getSavedAnswers",value:function(){return this.data}},{key:"clearStorage",value:function(){this.storage.setItem(_,"[]")}},{key:"checkAnswer",value:function(e,t){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n="0";return""===e.name?n="10001":this.data[t]&&this.data[t].name===e.name||!this.data.some((function(t){return t.name===e.name}))?e.map[0].every((function(e){return 0===e}))&&(n="20001"):n="10002",a?"0"===n||(Object(F["a"])({type:"warning",message:W[n]}),!1):{errno:n}}},{key:"validate",value:function(e){var t=e.map((function(e){return e.name}));return t.length===Array.from(new Set(t)).length}},{key:"syncStorage",value:function(){this.storage.setItem("chordAnswer",JSON.stringify(this.data))}},{key:"$load",value:function(e){return!!this.validate(e)&&(this.data=e,this.syncStorage(),!0)}}]),e}(),z={install:function(e,t){e.prototype.$answerStorage=new q(t)}},$=z,ee=[{name:"C",map:[[1,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]]},{name:"Cm",map:[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]]},{name:"Cdim",map:[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]]},{name:"Caug",map:[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]]},{name:"C7",map:[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]]}],te=(a("8e1f"),a("b000"),a("1a23")),ae=(a("c3a6"),a("ad06")),ne=(a("be7f"),a("565f"));n["default"].use(ne["a"]),n["default"].use(ae["a"]),n["default"].use(te["a"]),n["default"].use($,{default:ee}),n["default"].use(P.a,{prefix:"Konva"}),n["default"].config.productionTip=!1,new n["default"]({router:L,store:H,render:function(e){return e(d)}}).$mount("#app")},d26b:function(e,t,a){}});
//# sourceMappingURL=app.8ad926a4.js.map